<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XOX ULTIMATE | DEVELOPER BERKAY</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Orbitron', 'Arial', sans-serif;
        }

        body {
            background: radial-gradient(circle at center, #0a0a2a 0%, #000013 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #fff;
            overflow: hidden;
        }

        .cyber-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            padding: 20px;
        }

        .cyber-border {
            position: relative;
            background: linear-gradient(45deg, #ff0080, #8000ff, #0080ff);
            padding: 3px;
            border-radius: 20px;
            animation: borderGlow 4s linear infinite;
        }

        @keyframes borderGlow {
            0%, 100% { filter: hue-rotate(0deg); }
            50% { filter: hue-rotate(360deg); }
        }

        .main-content {
            background: #0a0a1a;
            padding: 40px;
            border-radius: 17px;
            position: relative;
            overflow: hidden;
        }

        .cyber-grid-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                linear-gradient(90deg, rgba(255,0,128,0.1) 1px, transparent 1px),
                linear-gradient(rgba(255,0,128,0.1) 1px, transparent 1px);
            background-size: 30px 30px;
            animation: gridMove 20s linear infinite;
            pointer-events: none;
        }

        @keyframes gridMove {
            0% { transform: translate(0, 0); }
            100% { transform: translate(30px, 30px); }
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
        }

        .cyber-title {
            font-size: 3.5em;
            background: linear-gradient(45deg, #ff0080, #8000ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 30px rgba(255, 0, 128, 0.5);
            margin-bottom: 10px;
            letter-spacing: 3px;
        }

        .developer {
            color: #0080ff;
            font-size: 1.3em;
            margin-bottom: 20px;
            text-shadow: 0 0 15px #0080ff;
        }

        .game-mode-selector {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
        }

        .mode-btn {
            background: rgba(255, 0, 128, 0.2);
            border: 2px solid #ff0080;
            color: #fff;
            padding: 15px 30px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1em;
        }

        .mode-btn.active {
            background: rgba(255, 0, 128, 0.4);
            box-shadow: 0 0 20px rgba(255, 0, 128, 0.5);
            transform: scale(1.05);
        }

        .mode-btn:hover {
            transform: translateY(-2px);
        }

        .game-info {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 30px;
            margin-bottom: 30px;
            align-items: center;
        }

        .player-card {
            background: rgba(255, 0, 128, 0.1);
            padding: 25px;
            border-radius: 15px;
            border: 2px solid #ff0080;
            text-align: center;
            transition: all 0.3s ease;
            min-width: 180px;
        }

        .player-card.active {
            background: rgba(255, 0, 128, 0.3);
            box-shadow: 0 0 30px rgba(255, 0, 128, 0.4);
            transform: scale(1.05);
        }

        .player-name {
            font-size: 1.4em;
            margin-bottom: 15px;
            color: #ff0080;
            text-shadow: 0 0 10px #ff0080;
        }

        .player-score {
            font-size: 2.5em;
            color: #fff;
            text-shadow: 0 0 15px #ff0080;
        }

        .vs-text {
            font-size: 1.8em;
            color: #8000ff;
            text-shadow: 0 0 20px #8000ff;
        }

        .game-board {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-gap: 10px;
            background: rgba(128, 0, 255, 0.2);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            border: 2px solid #8000ff;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
        }

        .cell {
            aspect-ratio: 1;
            background: rgba(10, 10, 26, 0.8);
            border: 2px solid rgba(128, 0, 255, 0.5);
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 3em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .cell:hover {
            background: rgba(128, 0, 255, 0.2);
            transform: scale(1.05);
            border-color: #8000ff;
        }

        .cell.x {
            color: #ff0080;
            text-shadow: 0 0 20px #ff0080;
        }

        .cell.o {
            color: #0080ff;
            text-shadow: 0 0 20px #0080ff;
        }

        .winning-line {
            position: absolute;
            background: linear-gradient(90deg, transparent, #00ff80, transparent);
            height: 4px;
            animation: lineGlow 2s infinite;
            z-index: 1;
        }

        @keyframes lineGlow {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }

        .controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 25px;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
        }

        .cyber-btn {
            background: linear-gradient(45deg, #ff0080, #8000ff);
            border: none;
            padding: 18px;
            border-radius: 12px;
            color: #fff;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-size: 1.1em;
            box-shadow: 0 5px 15px rgba(255, 0, 128, 0.3);
        }

        .cyber-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(255, 0, 128, 0.5);
        }

        .cyber-btn.secondary {
            background: linear-gradient(45deg, #0080ff, #00ff80);
        }

        .message-container {
            background: rgba(0, 0, 0, 0.6);
            padding: 25px;
            border-radius: 12px;
            border: 2px solid #0080ff;
            text-align: center;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .message {
            font-size: 1.4em;
            color: #00ff80;
            text-shadow: 0 0 15px #00ff80;
        }

        .winning {
            animation: winFlash 0.8s infinite;
        }

        @keyframes winFlash {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .particle {
            position: absolute;
            width: 6px;
            height: 6px;
            background: #ff0080;
            border-radius: 50%;
            pointer-events: none;
            animation: particleFloat 2s ease-out forwards;
        }

        @keyframes particleFloat {
            0% {
                transform: translate(0, 0);
                opacity: 1;
            }
            100% {
                transform: translate(var(--tx), var(--ty));
                opacity: 0;
            }
        }

        .difficulty {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(0, 128, 255, 0.2);
            padding: 10px 20px;
            border-radius: 20px;
            border: 1px solid #0080ff;
            color: #0080ff;
            font-size: 0.9em;
        }

        .game-stats {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
            color: #8000ff;
            font-size: 1.1em;
        }
    </style>
</head>
<body>
    <div class="cyber-container">
        <div class="cyber-border">
            <div class="main-content">
                <div class="cyber-grid-bg"></div>
                <div class="difficulty" id="difficulty">ZORLUK: AKILLI</div>
                
                <div class="header">
                    <h1 class="cyber-title">XOX ULTIMATE</h1>
                    <div class="developer">DEVELOPER: BERKAY</div>
                </div>

                <div class="game-mode-selector">
                    <button class="mode-btn active" onclick="setGameMode('pvp')">İKİ OYUNCULU</button>
                    <button class="mode-btn" onclick="setGameMode('ai')">BİLGİSAYARA KARŞI</button>
                </div>

                <div class="game-info">
                    <div class="player-card active" id="playerXCard">
                        <div class="player-name">OYUNCU X</div>
                        <div class="player-score" id="scoreX">0</div>
                    </div>
                    
                    <div class="vs-text">VS</div>
                    
                    <div class="player-card" id="playerOCard">
                        <div class="player-name" id="opponentName">OYUNCU O</div>
                        <div class="player-score" id="scoreO">0</div>
                    </div>
                </div>

                <div class="game-board" id="gameBoard">
                    <!-- 3x3 grid JavaScript ile oluşturulacak -->
                </div>

                <div class="controls">
                    <button class="cyber-btn" onclick="resetGame()">YENİ OYUN</button>
                    <button class="cyber-btn secondary" onclick="resetScores()">SKORU SIFIRLA</button>
                </div>

                <div class="message-container">
                    <div class="message" id="message">X OYUNCUSU SIRASI</div>
                </div>

                <div class="game-stats">
                    <div>Galibiyet: <span id="wins">0</span></div>
                    <div>Beraberlik: <span id="draws">0</span></div>
                    <div>Maç: <span id="total">0</span></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentPlayer = 'X';
        let gameBoard = ['', '', '', '', '', '', '', '', ''];
        let gameActive = true;
        let gameMode = 'pvp'; // 'pvp' veya 'ai'
        let scoreX = 0;
        let scoreO = 0;
        let wins = 0;
        let draws = 0;
        let totalGames = 0;
        
        const winningConditions = [
            [0, 1, 2], [3, 4, 5], [6, 7, 8], // Yatay
            [0, 3, 6], [1, 4, 7], [2, 5, 8], // Dikey
            [0, 4, 8], [2, 4, 6] // Çapraz
        ];

        // Oyun tahtasını oluştur
        function initializeBoard() {
            const gameBoardElement = document.getElementById('gameBoard');
            gameBoardElement.innerHTML = '';
            
            for (let i = 0; i < 9; i++) {
                const cell = document.createElement('div');
                cell.className = 'cell';
                cell.setAttribute('data-index', i);
                cell.addEventListener('click', () => cellClicked(i));
                gameBoardElement.appendChild(cell);
            }
            
            updatePlayerCards();
        }

        // Oyun modunu ayarla
        function setGameMode(mode) {
            gameMode = mode;
            document.querySelectorAll('.mode-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            const opponentName = document.getElementById('opponentName');
            if (mode === 'ai') {
                opponentName.textContent = 'BİLGİSAYAR';
                document.getElementById('difficulty').textContent = 'ZORLUK: AKILLI';
            } else {
                opponentName.textContent = 'OYUNCU O';
                document.getElementById('difficulty').textContent = 'ZORLUK: İNSAN';
            }
            
            resetGame();
        }

        // Hücre tıklama
        function cellClicked(index) {
            if (gameBoard[index] !== '' || !gameActive) return;

            makeMove(index, currentPlayer);
            
            if (gameActive && gameMode === 'ai' && currentPlayer === 'O') {
                setTimeout(computerMove, 800);
            }
        }

        // Hamle yap
        function makeMove(index, player) {
            gameBoard[index] = player;
            createParticles(index);
            updateBoard();
            
            if (checkWinner()) {
                endGame(player);
                return;
            }
            
            if (checkDraw()) {
                endGame('draw');
                return;
            }
            
            currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
            updatePlayerCards();
            document.getElementById('message').textContent = 
                `${currentPlayer} OYUNCUSU SIRASI`;
        }

        // Bilgisayar hamlesi
        function computerMove() {
            if (!gameActive) return;

            let move;
            
            // Kazanma fırsatı kontrolü
            move = findWinningMove('O');
            if (move === -1) {
                // Savunma - rakibin kazanmasını engelle
                move = findWinningMove('X');
            }
            if (move === -1) {
                // Merkez kontrolü
                if (gameBoard[4] === '') {
                    move = 4;
                }
            }
            if (move === -1) {
                // Köşeler
                const corners = [0, 2, 6, 8];
                const availableCorners = corners.filter(index => gameBoard[index] === '');
                if (availableCorners.length > 0) {
                    move = availableCorners[Math.floor(Math.random() * availableCorners.length)];
                }
            }
            if (move === -1) {
                // Rastgele hamle
                const availableMoves = gameBoard.map((cell, index) => cell === '' ? index : -1).filter(index => index !== -1);
                move = availableMoves[Math.floor(Math.random() * availableMoves.length)];
            }
            
            if (move !== -1) {
                makeMove(move, 'O');
            }
        }

        // Kazanma hamlesi bul
        function findWinningMove(player) {
            for (let condition of winningConditions) {
                const [a, b, c] = condition;
                const values = [gameBoard[a], gameBoard[b], gameBoard[c]];
                const emptyIndex = condition.find(index => gameBoard[index] === '');
                
                if (values.filter(v => v === player).length === 2 && emptyIndex !== undefined) {
                    return emptyIndex;
                }
            }
            return -1;
        }

        // Kazanan kontrolü
        function checkWinner() {
            for (let condition of winningConditions) {
                const [a, b, c] = condition;
                if (gameBoard[a] && gameBoard[a] === gameBoard[b] && gameBoard[a] === gameBoard[c]) {
                    drawWinningLine(condition);
                    return true;
                }
            }
            return false;
        }

        // Kazanan çizgiyi çiz
        function drawWinningLine(condition) {
            const line = document.createElement('div');
            line.className = 'winning-line';
            
            const startCell = document.querySelector(`[data-index="${condition[0]}"]`);
            const endCell = document.querySelector(`[data-index="${condition[2]}"]`);
            
            const startRect = startCell.getBoundingClientRect();
            const endRect = endCell.getBoundingClientRect();
            
            const boardRect = document.getElementById('gameBoard').getBoundingClientRect();
            
            const startX = startRect.left + startRect.width / 2 - boardRect.left;
            const startY = startRect.top + startRect.height / 2 - boardRect.top;
            const endX = endRect.left + endRect.width / 2 - boardRect.left;
            const endY = endRect.top + endRect.height / 2 - boardRect.top;
            
            const length = Math.sqrt(Math.pow(endX - startX, 2) + Math.pow(endY - startY, 2));
            const angle = Math.atan2(endY - startY, endX - startX) * 180 / Math.PI;
            
            line.style.width = length + 'px';
            line.style.left = startX + 'px';
            line.style.top = startY + 'px';
            line.style.transform = `rotate(${angle}deg)`;
            line.style.transformOrigin = '0 0';
            
            document.getElementById('gameBoard').appendChild(line);
        }

        // Beraberlik kontrolü
        function checkDraw() {
            return gameBoard.every(cell => cell !== '');
        }

        // Oyunu bitir
        function endGame(result) {
            gameActive = false;
            totalGames++;
            
            let message = '';
            if (result === 'X') {
                message = 'X OYUNCUSU KAZANDI!';
                scoreX++;
                wins++;
            } else if (result === 'O') {
                message = 'O OYUNCUSU KAZANDI!';
                scoreO++;
            } else {
                message = 'BERABERE!';
                draws++;
            }
            
            document.getElementById('message').textContent = message;
            document.getElementById('message').classList.add('winning');
            
            updateScores();
            updateStats();
        }

        // Partikül efekti
        function createParticles(index) {
            const cell = document.querySelector(`[data-index="${index}"]`);
            const rect = cell.getBoundingClientRect();
            
            for (let i = 0; i < 12; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                
                const x = rect.left + rect.width / 2;
                const y = rect.top + rect.height / 2;
                
                particle.style.left = x + 'px';
                particle.style.top = y + 'px';
                
                const angle = Math.random() * Math.PI * 2;
                const distance = 40 + Math.random() * 80;
                const tx = Math.cos(angle) * distance;
                const ty = Math.sin(angle) * distance;
                
                particle.style.setProperty('--tx', tx + 'px');
                particle.style.setProperty('--ty', ty + 'px');
                
                const color = currentPlayer === 'X' ? '#ff0080' : '#0080ff';
                particle.style.background = color;
                
                document.body.appendChild(particle);
                
                setTimeout(() => particle.remove(), 2000);
            }
        }

        // Tahtayı güncelle
        function updateBoard() {
            const cells = document.querySelectorAll('.cell');
            cells.forEach((cell, index) => {
                cell.textContent = gameBoard[index];
                if (gameBoard[index] === 'X') {
                    cell.classList.add('x');
                    cell.classList.remove('o');
                } else if (gameBoard[index] === 'O') {
                    cell.classList.add('o');
                    cell.classList.remove('x');
                } else {
                    cell.classList.remove('x', 'o');
                }
            });
        }

        // Skorları güncelle
        function updateScores() {
            document.getElementById('scoreX').textContent = scoreX;
            document.getElementById('scoreO').textContent = scoreO;
        }

        // İstatistikleri güncelle
        function updateStats() {
            document.getElementById('wins').textContent = wins;
            document.getElementById('draws').textContent = draws;
            document.getElementById('total').textContent = totalGames;
        }

        // Oyuncu kartlarını güncelle
        function updatePlayerCards() {
            document.getElementById('playerXCard').classList.toggle('active', currentPlayer === 'X');
            document.getElementById('playerOCard').classList.toggle('active', currentPlayer === 'O');
        }

        // Oyunu sıfırla
        function resetGame() {
            gameBoard = ['', '', '', '', '', '', '', '', ''];
            gameActive = true;
            currentPlayer = 'X';
            
            document.querySelectorAll('.winning-line').forEach(line => line.remove());
            document.getElementById('message').textContent = 'X OYUNCUSU SIRASI';
            document.getElementById('message').classList.remove('winning');
            
            updateBoard();
            updatePlayerCards();
        }

        // Skorları sıfırla
        function resetScores() {
            scoreX = 0;
            scoreO = 0;
            wins = 0;
            draws = 0;
            totalGames = 0;
            updateScores();
            updateStats();
            resetGame();
        }

        // Sayfa yüklendiğinde
        window.onload = function() {
            initializeBoard();
            updateScores();
            updateStats();
        };
    </script>
</body>
</html>
